!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=24)}([function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var o=(a=i,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),r=i.sources.map(function(e){return"/*# sourceURL=".concat(i.sourceRoot).concat(e," */")});return[n].concat(r).concat([o]).join("\n")}var a,s,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(n,"}"):n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];null!=r&&(i[r]=!0)}for(var a=0;a<e.length;a++){var s=e[a];null!=s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="(".concat(s[2],") and (").concat(n,")")),t.push(s))}},t}},function(e,t,n){var i,o,r={},a=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=i.apply(this,arguments)),o}),s=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var i=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}}(),l=null,c=0,d=[],u=n(12);function p(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=r[i.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](i.parts[a]);for(;a<i.parts.length;a++)o.parts.push(b(i.parts[a],t))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(b(i.parts[a],t));r[i.id]={id:i.id,refs:1,parts:s}}}}function h(e,t){for(var n=[],i={},o=0;o<e.length;o++){var r=e[o],a=t.base?r[0]+t.base:r[0],s={css:r[1],media:r[2],sourceMap:r[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function f(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=d[d.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertAt.before,n);n.insertBefore(t,o)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function m(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var i=function(){0;return n.nc}();i&&(e.attrs.nonce=i)}return g(t,e.attrs),f(e,t),t}function g(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function b(e,t){var n,i,o,r;if(t.transform&&e.css){if(!(r="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=r}if(t.singleton){var a=c++;n=l||(l=m(t)),i=x.bind(null,n,a,!1),o=x.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",g(t,e.attrs),f(e,t),t}(t),i=function(e,t,n){var i=n.css,o=n.sourceMap,r=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||r)&&(i=u(i));o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),o=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),i=function(e,t){var n=t.css,i=t.media;i&&e.setAttribute("media",i);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){v(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return p(n,t),function(e){for(var i=[],o=0;o<n.length;o++){var a=n[o];(s=r[a.id]).refs--,i.push(s)}e&&p(h(e,t),t);for(o=0;o<i.length;o++){var s;if(0===(s=i[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete r[s.id]}}}};var w,y=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function x(e,t,n,i){var o=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=y(t,o);else{var r=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}},function(e,t,n){e.exports=n.p+"img/e1c03bb44577c8d268e648d22fcd97e6.png"},function(e,t,n){"use strict";e.exports=function(e,t){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t,n){var i;!function(n,o,r,a){"use strict";var s,l,c={URL:n.URL||n.webkitURL||n.mozURL||n.msURL,getUserMedia:(l=r.getUserMedia||r.webkitGetUserMedia||r.mozGetUserMedia||r.msGetUserMedia,l?l.bind(r):l),requestAnimFrame:n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame,requestTimeout:function(e,t){if(e=e||c.noop,t=t||0,!c.requestAnimFrame)return setTimeout(e,t);var n=(new Date).getTime(),i=new Object,o=c.requestAnimFrame;return i.value=o(function r(){(new Date).getTime()-n>=t?e.call():i.value=o(r)}),i},Blob:n.Blob||n.BlobBuilder||n.WebKitBlobBuilder||n.MozBlobBuilder||n.MSBlobBuilder,btoa:(s=n.btoa||function(e){for(var t="",n=0,i=e.length,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=void 0,a=void 0,s=void 0,l=void 0,c=void 0,d=void 0,u=void 0;n<i;)l=(r=e.charCodeAt(n++))>>2,c=(3&r)<<4|(a=e.charCodeAt(n++))>>4,d=(15&a)<<2|(s=e.charCodeAt(n++))>>6,u=63&s,isNaN(a)?d=u=64:isNaN(s)&&(u=64),t=t+o.charAt(l)+o.charAt(c)+o.charAt(d)+o.charAt(u);return t},s?s.bind(n):c.noop),isObject:function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},isEmptyObject:function(e){return c.isObject(e)&&!Object.keys(e).length},isArray:function(e){return e&&Array.isArray(e)},isFunction:function(e){return e&&"function"==typeof e},isElement:function(e){return e&&1===e.nodeType},isString:function(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)},isSupported:{canvas:function(){var e=o.createElement("canvas");return e&&e.getContext&&e.getContext("2d")},webworkers:function(){return n.Worker},blob:function(){return c.Blob},Uint8Array:function(){return n.Uint8Array},Uint32Array:function(){return n.Uint32Array},videoCodecs:function(){var e=o.createElement("video"),t={mp4:!1,h264:!1,ogv:!1,ogg:!1,webm:!1};try{e&&e.canPlayType&&(t.mp4=""!==e.canPlayType('video/mp4; codecs="mp4v.20.8"'),t.h264=""!==(e.canPlayType('video/mp4; codecs="avc1.42E01E"')||e.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),t.ogv=""!==e.canPlayType('video/ogg; codecs="theora"'),t.ogg=""!==e.canPlayType('video/ogg; codecs="theora"'),t.webm=-1!==e.canPlayType('video/webm; codecs="vp8, vorbis"'))}catch(e){}return t}()},noop:function(){},each:function(e,t){var n=void 0,i=void 0;if(c.isArray(e))for(n=-1,i=e.length;++n<i&&!1!==t(n,e[n]););else if(c.isObject(e))for(n in e)if(e.hasOwnProperty(n)&&!1===t(n,e[n]))break},mergeOptions:function(e,t){if(c.isObject(e)&&c.isObject(t)&&Object.keys){var n={};return c.each(e,function(t,i){n[t]=e[t]}),c.each(t,function(i,o){var r=t[i];c.isObject(r)&&e[i]?n[i]=c.mergeOptions(e[i],r):n[i]=r}),n}},setCSSAttr:function(e,t,n){c.isElement(e)&&(c.isString(t)&&c.isString(n)?e.style[t]=n:c.isObject(t)&&c.each(t,function(t,n){e.style[t]=n}))},removeElement:function(e){c.isElement(e)&&e.parentNode&&e.parentNode.removeChild(e)},createWebWorker:function(e){if(!c.isString(e))return{};try{var t=new c.Blob([e],{type:"text/javascript"}),n=c.URL.createObjectURL(t);return{objectUrl:n,worker:new Worker(n)}}catch(e){return""+e}},getExtension:function(e){return e.substr(e.lastIndexOf(".")+1,e.length)},getFontSize:function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{};if(!o.body||!1===e.resizeFont)return e.fontSize;var t=e.text,n=e.gifWidth,i=parseInt(e.fontSize,10),r=parseInt(e.minFontSize,10),s=o.createElement("div"),l=o.createElement("span");for(s.setAttribute("width",n),s.appendChild(l),l.innerHTML=t,l.style.fontSize=i+"px",l.style.textIndent="-9999px",l.style.visibility="hidden",o.body.appendChild(l);l.offsetWidth>n&&i>=r;)l.style.fontSize=--i+"px";return o.body.removeChild(l),i+"px"},webWorkerError:!1},d=Object.freeze({default:c}),u={validate:function(e){e=c.isObject(e)?e:{};var t={};return c.each(u.validators,function(n,i){var o=i.errorCode;if(!e[o]&&!i.condition)return(t=i).error=!0,!1}),delete t.condition,t},isValid:function(e){var t=!0!==u.validate(e).error;return t},validators:[{condition:c.isFunction(c.getUserMedia),errorCode:"getUserMedia",errorMsg:"The getUserMedia API is not supported in your browser"},{condition:c.isSupported.canvas(),errorCode:"canvas",errorMsg:"Canvas elements are not supported in your browser"},{condition:c.isSupported.webworkers(),errorCode:"webworkers",errorMsg:"The Web Workers API is not supported in your browser"},{condition:c.isFunction(c.URL),errorCode:"window.URL",errorMsg:"The window.URL API is not supported in your browser"},{condition:c.isSupported.blob(),errorCode:"window.Blob",errorMsg:"The window.Blob File API is not supported in your browser"},{condition:c.isSupported.Uint8Array(),errorCode:"window.Uint8Array",errorMsg:"The window.Uint8Array function constructor is not supported in your browser"},{condition:c.isSupported.Uint32Array(),errorCode:"window.Uint32Array",errorMsg:"The window.Uint32Array function constructor is not supported in your browser"}],messages:{videoCodecs:{errorCode:"videocodec",errorMsg:"The video codec you are trying to use is not supported in your browser"}}},p=Object.freeze({default:u}),h=function(){},f={sampleInterval:10,numWorkers:2,filter:"",gifWidth:200,gifHeight:200,interval:.1,numFrames:10,frameDuration:1,keepCameraOn:!1,images:[],video:null,webcamVideoElement:null,cameraStream:null,text:"",fontWeight:"normal",fontSize:"16px",minFontSize:"10px",resizeFont:!1,fontFamily:"sans-serif",fontColor:"#ffffff",textAlign:"center",textBaseline:"bottom",textXCoordinate:null,textYCoordinate:null,progressCallback:h,completeCallback:h,saveRenderingContexts:!1,savedRenderingContexts:[],crossOrigin:"Anonymous"},v=Object.freeze({default:f});function m(){return u.isValid()}function g(){var e,t,n,i,o,r=256,a=499,s=491,l=487,c=503,d=3*c,u=r-1,p=4,h=100,f=16,v=1<<f,m=10,g=10,b=v>>g,w=v<<m-g,y=6,x=(r>>3)*(1<<y),S=30,E=1024,C=256,k=1<<18,A=[],I=[],O=[],D=[];function T(e,t,n,i,a){var s,l,c,d,u,p,h;for((c=t-e)<-1&&(c=-1),(d=t+e)>r&&(d=r),s=t+1,l=t-1,p=1;s<d||l>c;){if(u=D[p++],s<d){h=o[s++];try{h[0]-=u*(h[0]-n)/k|0,h[1]-=u*(h[1]-i)/k|0,h[2]-=u*(h[2]-a)/k|0}catch(e){}}if(l>c){h=o[l--];try{h[0]-=u*(h[0]-n)/k|0,h[1]-=u*(h[1]-i)/k|0,h[2]-=u*(h[2]-a)/k|0}catch(e){}}}}function M(e,t,n,i,r){var a=o[t],s=e/E;a[0]-=s*(a[0]-n)|0,a[1]-=s*(a[1]-i)|0,a[2]-=s*(a[2]-r)|0}function F(e,t,n){var i,a,s,l,c,d,u,h,v,y;for(v=h=~(1<<31),u=d=-1,i=0;i<r;i++)(a=(y=o[i])[0]-e)<0&&(a=-a),(s=y[1]-t)<0&&(s=-s),a+=s,(s=y[2]-n)<0&&(s=-s),(a+=s)<h&&(h=a,d=i),(l=a-(I[i]>>f-p))<v&&(v=l,u=i),c=O[i]>>g,O[i]-=c,I[i]+=c<<m;return O[d]+=b,I[d]-=w,u}(function(e,a,s){var l,c;for(t=e,n=a,i=s,o=new Array(r),l=0;l<r;l++)o[l]=new Array(4),(c=o[l])[0]=c[1]=c[2]=(l<<p+8)/r|0,O[l]=v/r|0,I[l]=0}).apply(this,arguments);var L={map:function(e,t,n){var i,a,s,l,c,d,u;for(c=1e3,u=-1,a=(i=A[t])-1;i<r||a>=0;)i<r&&((s=(d=o[i])[1]-t)>=c?i=r:(i++,s<0&&(s=-s),(l=d[0]-e)<0&&(l=-l),(s+=l)<c&&((l=d[2]-n)<0&&(l=-l),(s+=l)<c&&(c=s,u=d[3])))),a>=0&&((s=t-(d=o[a])[1])>=c?a=-1:(a--,s<0&&(s=-s),(l=d[0]-e)<0&&(l=-l),(s+=l)<c&&((l=d[2]-n)<0&&(l=-l),(s+=l)<c&&(c=s,u=d[3]))));return u}};return L.process=function(){return function(){var o,r,u,f,v,m,g,b,w,k,A,I,O,L;for(n<d&&(i=1),e=30+(i-1)/3,I=t,O=0,L=n,k=(A=n/(3*i))/h|0,b=E,(g=(m=x)>>y)<=1&&(g=0),o=0;o<g;o++)D[o]=b*((g*g-o*o)*C/(g*g));for(w=n<d?3:n%a!=0?3*a:n%s!=0?3*s:n%l!=0?3*l:3*c,o=0;o<A;)if(M(b,r=F(u=(255&I[O+0])<<p,f=(255&I[O+1])<<p,v=(255&I[O+2])<<p),u,f,v),0!==g&&T(g,r,u,f,v),(O+=w)>=L&&(O-=n),0===k&&(k=1),++o%k==0)for(b-=b/e,(g=(m-=m/S)>>y)<=1&&(g=0),r=0;r<g;r++)D[r]=b*((g*g-r*r)*C/(g*g))}(),function(){var e;for(e=0;e<r;e++)o[e][0]>>=p,o[e][1]>>=p,o[e][2]>>=p,o[e][3]=e}(),function(){var e,t,n,i,a,s,l,c;for(l=0,c=0,e=0;e<r;e++){for(n=e,i=(a=o[e])[1],t=e+1;t<r;t++)(s=o[t])[1]<i&&(n=t,i=s[1]);if(s=o[n],e!=n&&(t=s[0],s[0]=a[0],a[0]=t,t=s[1],s[1]=a[1],a[1]=t,t=s[2],s[2]=a[2],a[2]=t,t=s[3],s[3]=a[3],a[3]=t),i!=l){for(A[l]=c+e>>1,t=l+1;t<i;t++)A[t]=e;l=i,c=e}}for(A[l]=c+u>>1,t=l+1;t<256;t++)A[t]=u}(),function(){for(var e=[],t=new Array(r),n=0;n<r;n++)t[o[n][3]]=n;for(var i=0,a=0;a<r;a++){var s=t[a];e[i++]=o[s][0],e[i++]=o[s][1],e[i++]=o[s][2]}return e}()},L}function b(){try{this.onmessage=function(t){var n,i=t.data||{};i.gifshot&&(n=e.run(i),postMessage(n))}}catch(e){}var e={dataToRGB:function(e,t,n){for(var i=t*n*4,o=0,r=[];o<i;)r.push(e[o++]),r.push(e[o++]),r.push(e[o++]),o++;return r},componentizedPaletteToArray:function(e){e=e||[];for(var t=[],n=0;n<e.length;n+=3){var i=e[n],o=e[n+1],r=e[n+2];t.push(i<<16|o<<8|r)}return t},processFrameWithQuantizer:function(e,t,n,i){for(var o=this.dataToRGB(e,t,n),r=new g(o,o.length,i),a=r.process(),s=new Uint32Array(this.componentizedPaletteToArray(a)),l=t*n,c=new Uint8Array(l),d=0,u=0;u<l;u++){var p=o[d++],h=o[d++],f=o[d++];c[u]=r.map(p,h,f)}return{pixels:c,palette:s}},run:function(e){var t=e=e||{},n=t.height,i=(t.palette,t.sampleInterval),o=t.width,r=e.data;return this.processFrameWithQuantizer(r,o,n,i)}};return e}function w(e,t,n,i){var o=0,r=(i=i===a?{}:i).loop===a?null:i.loop,s=i.palette===a?null:i.palette;if(t<=0||n<=0||t>65535||n>65535)throw"Width/Height invalid.";e[o++]=71,e[o++]=73,e[o++]=70,e[o++]=56,e[o++]=57,e[o++]=97;if(e[o++]=255&t,e[o++]=t>>8&255,e[o++]=255&n,e[o++]=n>>8&255,e[o++]=0|(null!==s?128:0),e[o++]=0,e[o++]=0,null!==r){if(r<0||r>65535)throw"Loop count invalid.";e[o++]=33,e[o++]=255,e[o++]=11,e[o++]=78,e[o++]=69,e[o++]=84,e[o++]=83,e[o++]=67,e[o++]=65,e[o++]=80,e[o++]=69,e[o++]=50,e[o++]=46,e[o++]=48,e[o++]=3,e[o++]=1,e[o++]=255&r,e[o++]=r>>8&255,e[o++]=0}var l=!1;this.addFrame=function(t,n,i,r,c,d){if(!0===l&&(--o,l=!1),d=d===a?{}:d,t<0||n<0||t>65535||n>65535)throw"x/y invalid.";if(i<=0||r<=0||i>65535||r>65535)throw"Width/Height invalid.";if(c.length<i*r)throw"Not enough pixels for the frame size.";var u=!0,p=d.palette;if(p!==a&&null!==p||(u=!1,p=s),p===a||null===p)throw"Must supply either a local or global palette.";for(var h=function(e){var t=e.length;if(t<2||t>256||t&t-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return t}(p),f=0;h>>=1;)++f;h=1<<f;var v=d.delay===a?0:d.delay,m=d.disposal===a?0:d.disposal;if(m<0||m>3)throw"Disposal out of range.";var g=!1,b=0;if(d.transparent!==a&&null!==d.transparent&&(g=!0,(b=d.transparent)<0||b>=h))throw"Transparent color index.";if((0!==m||g||0!==v)&&(e[o++]=33,e[o++]=249,e[o++]=4,e[o++]=m<<2|(!0===g?1:0),e[o++]=255&v,e[o++]=v>>8&255,e[o++]=b,e[o++]=0),e[o++]=44,e[o++]=255&t,e[o++]=t>>8&255,e[o++]=255&n,e[o++]=n>>8&255,e[o++]=255&i,e[o++]=i>>8&255,e[o++]=255&r,e[o++]=r>>8&255,e[o++]=!0===u?128|f-1:0,!0===u)for(var w=0,y=p.length;w<y;++w){var x=p[w];e[o++]=x>>16&255,e[o++]=x>>8&255,e[o++]=255&x}o=function(e,t,n,i){e[t++]=n;var o=t++,r=1<<n,s=r-1,l=r+1,c=l+1,d=n+1,u=0,p=0;function h(n){for(;u>=n;)e[t++]=255&p,p>>=8,u-=8,t===o+256&&(e[o]=255,o=t++)}function f(e){p|=e<<u,u+=d,h(8)}var v=i[0]&s,m={};f(r);for(var g=1,b=i.length;g<b;++g){var w=i[g]&s,y=v<<8|w,x=m[y];if(x===a){for(p|=v<<u,u+=d;u>=8;)e[t++]=255&p,p>>=8,u-=8,t===o+256&&(e[o]=255,o=t++);4096===c?(f(r),c=l+1,d=n+1,m={}):(c>=1<<d&&++d,m[y]=c++),v=w}else v=x}f(v),f(l),h(1),o+1===t?e[o]=0:(e[o]=t-o-1,e[t++]=0);return t}(e,o,f<2?2:f,c)},this.end=function(){return!1===l&&(e[o++]=59,l=!0),o}}var y=function(){},x=function(e){this.canvas=null,this.ctx=null,this.repeat=0,this.frames=[],this.numRenderedFrames=0,this.onRenderCompleteCallback=y,this.onRenderProgressCallback=y,this.workers=[],this.availableWorkers=[],this.generatingGIF=!1,this.options=e,this.initializeWebWorkers(e)};x.prototype={workerMethods:b(),initializeWebWorkers:function(e){var t,n=g.toString()+"("+b.toString()+"());",i=void 0,r=void 0,a=void 0,s=-1,l="";for(t=e.numWorkers;++s<t;)i=c.createWebWorker(n),c.isObject(i)?(r=i.objectUrl,a=i.worker,this.workers.push({worker:a,objectUrl:r}),this.availableWorkers.push(a)):(l=i,c.webWorkerError=!!i);this.workerError=l,this.canvas=o.createElement("canvas"),this.canvas.width=e.gifWidth,this.canvas.height=e.gifHeight,this.ctx=this.canvas.getContext("2d"),this.frames=[]},getWorker:function(){return this.availableWorkers.pop()},freeWorker:function(e){this.availableWorkers.push(e)},byteMap:function(){for(var e=[],t=0;t<256;t++)e[t]=String.fromCharCode(t);return e}(),bufferToString:function(e){for(var t=e.length,n="",i=-1;++i<t;)n+=this.byteMap[e[i]];return n},onFrameFinished:function(e){var t=this,n=t.frames,i=!!(t.options.images||[]).length,o=n.every(function(e){return!e.beingProcessed&&e.done});t.numRenderedFrames++,i&&e(t.numRenderedFrames/n.length),t.onRenderProgressCallback(.75*t.numRenderedFrames/n.length),o?t.generatingGIF||t.generateGIF(n,t.onRenderCompleteCallback):c.requestTimeout(function(){t.processNextFrame()},1)},processFrame:function(e){var t=this,n=(this.options,this.options),i=n.progressCallback,o=n.sampleInterval,r=this.frames,s=void 0,l=void 0,c=function(){var e=(arguments.length>0&&arguments[0]!==a?arguments[0]:{}).data;delete s.data,s.pixels=Array.prototype.slice.call(e.pixels),s.palette=Array.prototype.slice.call(e.palette),s.done=!0,s.beingProcessed=!1,t.freeWorker(l),t.onFrameFinished(i)};(s=r[e]).beingProcessed||s.done?this.onFrameFinished():(s.sampleInterval=o,s.beingProcessed=!0,s.gifshot=!0,(l=this.getWorker())?(l.onmessage=c,l.postMessage(s)):c({data:t.workerMethods.run(s)}))},startRendering:function(e){this.onRenderCompleteCallback=e;for(var t=0;t<this.options.numWorkers&&t<this.frames.length;t++)this.processFrame(t)},processNextFrame:function(){for(var e=-1,t=0;t<this.frames.length;t++){var n=this.frames[t];if(!n.done&&!n.beingProcessed){e=t;break}}e>=0&&this.processFrame(e)},generateGIF:function(e,t){var n=[],i={loop:this.repeat},o=this.options,r=o.interval,a=o.frameDuration,s=!!o.images.length,l=o.gifHeight,d=o.gifWidth,u=new w(n,d,l,i),p=this.onRenderProgressCallback,h=s?100*r:0,f=void 0;this.generatingGIF=!0,c.each(e,function(t,n){var i=n.palette;p(.75+.25*n.position*1/e.length);for(var o=0;o<a;o++)u.addFrame(0,0,d,l,n.pixels,{palette:i,delay:h})}),u.end(),p(1),this.frames=[],this.generatingGIF=!1,c.isFunction(t)&&(f=this.bufferToString(n),t("data:image/gif;base64,"+c.btoa(f)))},setRepeat:function(e){this.repeat=e},addFrame:function(e,t){t=c.isObject(t)?t:{};var n=this.ctx,i=this.options,o=i.gifWidth,r=i.gifHeight,a=c.getFontSize(t),s=t,l=s.filter,d=s.fontColor,u=s.fontFamily,p=s.fontWeight,h=(s.gifHeight,s.gifWidth,s.text),f=s.textAlign,v=s.textBaseline,m=t.textXCoordinate?t.textXCoordinate:"left"===f?1:"right"===f?o:o/2,g=t.textYCoordinate?t.textYCoordinate:"top"===v?1:"center"===v?r/2:r,b=p+" "+a+" "+u,w=void 0;try{n.filter=l,n.drawImage(e,0,0,o,r),h&&(n.font=b,n.fillStyle=d,n.textAlign=f,n.textBaseline=v,n.fillText(h,m,g)),w=n.getImageData(0,0,o,r),this.addFrameImageData(w)}catch(e){return""+e}},addFrameImageData:function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},t=this.frames,n=e.data;this.frames.push({data:n,width:e.width,height:e.height,palette:null,dithering:null,done:!1,beingProcessed:!1,position:t.length})},onRenderProgress:function(e){this.onRenderProgressCallback=e},isRendering:function(){return this.generatingGIF},getBase64GIF:function(e){var t=this;t.startRendering(function(n){t.destroyWorkers(),c.requestTimeout(function(){e(n)},0)})},destroyWorkers:function(){if(!this.workerError){var e=this.workers;c.each(e,function(e,t){var n=t.worker,i=t.objectUrl;n.terminate(),c.URL.revokeObjectURL(i)})}}};var S=function(){},E={getGIF:function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},t=arguments[1];t=c.isFunction(t)?t:S;var n=o.createElement("canvas"),i=void 0,r=!!e.images.length,s=e.cameraStream,l=e.crop,d=e.filter,u=e.fontColor,p=e.fontFamily,h=e.fontWeight,f=e.keepCameraOn,v=(e.numWorkers,e.progressCallback),m=e.saveRenderingContexts,g=e.savedRenderingContexts,b=e.text,w=e.textAlign,y=e.textBaseline,E=e.videoElement,C=e.videoHeight,k=e.videoWidth,A=e.webcamVideoElement,I=Number(e.gifWidth),O=Number(e.gifHeight),D=Number(e.interval),T=(Number(e.sampleInterval),r?0:1e3*D),M=[],F=g.length?g.length:e.numFrames,L=F,R=new x(e),_=c.getFontSize(e),B=e.textXCoordinate?e.textXCoordinate:"left"===w?1:"right"===w?I:I/2,W=e.textYCoordinate?e.textYCoordinate:"top"===y?1:"center"===y?O/2:O,P=h+" "+_+" "+p,U=l?Math.floor(l.scaledWidth/2):0,N=l?k-l.scaledWidth:0,z=l?Math.floor(l.scaledHeight/2):0,j=l?C-l.scaledHeight:0;F=F!==a?F:10,D=D!==a?D:.1,n.width=I,n.height=O,i=n.getContext("2d"),function e(){g.length||0!==E.currentTime?function e(){var n=L-1;function o(){var o;m&&M.push(i.getImageData(0,0,I,O)),b&&(i.font=P,i.fillStyle=u,i.textAlign=w,i.textBaseline=y,i.fillText(b,B,W)),o=i.getImageData(0,0,I,O),R.addFrameImageData(o),v((F-(L=n))/F),n>0&&c.requestTimeout(e,T),L||R.getBase64GIF(function(e){t({error:!1,errorCode:"",errorMsg:"",image:e,cameraStream:s,videoElement:E,webcamVideoElement:A,savedRenderingContexts:M,keepCameraOn:f})})}g.length?(i.putImageData(g[F-L],0,0),o()):function e(){try{N>k&&(N=k),j>C&&(j=C),U<0&&(U=0),z<0&&(z=0),i.filter=d,i.drawImage(E,U,z,N,j,0,0,I,O),o()}catch(t){if("NS_ERROR_NOT_AVAILABLE"!==t.name)throw t;c.requestTimeout(e,100)}}()}():c.requestTimeout(e,100)}()},getCropDimensions:function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},t=e.videoWidth,n=e.videoHeight,i=e.gifWidth,o=e.gifHeight,r={width:0,height:0,scaledWidth:0,scaledHeight:0};return t>n?(r.width=Math.round(t*(o/n))-i,r.scaledWidth=Math.round(r.width*(n/o))):(r.height=Math.round(n*(i/t))-o,r.scaledHeight=Math.round(r.height*(t/i))),r}},C={loadedData:!1,defaultVideoDimensions:{width:640,height:480},findVideoSize:function e(t){e.attempts=e.attempts||0;var n=t.cameraStream,i=t.completedCallback,o=t.videoElement;o&&(o.videoWidth>0&&o.videoHeight>0?(o.removeEventListener("loadeddata",C.findVideoSize),i({videoElement:o,cameraStream:n,videoWidth:o.videoWidth,videoHeight:o.videoHeight})):e.attempts<10?(e.attempts+=1,c.requestTimeout(function(){C.findVideoSize(t)},400)):i({videoElement:o,cameraStream:n,videoWidth:C.defaultVideoDimensions.width,videoHeight:C.defaultVideoDimensions.height}))},onStreamingTimeout:function(e){c.isFunction(e)&&e({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - Timed out while trying to start streaming",image:null,cameraStream:{}})},stream:function(e){var t=c.isArray(e.existingVideo)?e.existingVideo[0]:e.existingVideo,n=e.cameraStream,i=e.completedCallback,o=e.streamedCallback,r=e.videoElement;if(c.isFunction(o)&&o(),t){if(c.isString(t))r.src=t,r.innerHTML='<source src="'+t+'" type="video/'+c.getExtension(t)+'" />';else if(t instanceof Blob){try{r.src=c.URL.createObjectURL(t)}catch(e){}r.innerHTML='<source src="'+t+'" type="'+t.type+'" />'}}else if(r.mozSrcObject)r.mozSrcObject=n;else if(c.URL)try{r.srcObject=n,r.src=c.URL.createObjectURL(n)}catch(e){r.srcObject=n}r.play(),c.requestTimeout(function e(){e.count=e.count||0,!0===C.loadedData?(C.findVideoSize({videoElement:r,cameraStream:n,completedCallback:i}),C.loadedData=!1):(e.count+=1)>10?C.findVideoSize({videoElement:r,cameraStream:n,completedCallback:i}):e()},0)},startStreaming:function(e){var t=c.isFunction(e.error)?e.error:c.noop,n=c.isFunction(e.streamed)?e.streamed:c.noop,i=c.isFunction(e.completed)?e.completed:c.noop,r=e.crossOrigin,a=e.existingVideo,s=e.lastCameraStream,l=e.options,d=e.webcamVideoElement,u=c.isElement(a)?a:d||o.createElement("video");r&&(u.crossOrigin=l.crossOrigin),u.autoplay=!0,u.loop=!0,u.muted=!0,u.addEventListener("loadeddata",function(e){C.loadedData=!0,l.offset&&(u.currentTime=l.offset)}),a?C.stream({videoElement:u,existingVideo:a,completedCallback:i}):s?C.stream({videoElement:u,cameraStream:s,streamedCallback:n,completedCallback:i}):c.getUserMedia({video:!0},function(e){C.stream({videoElement:u,cameraStream:e,streamedCallback:n,completedCallback:i})},t)},startVideoStreaming:function(e){var t=arguments.length>1&&arguments[1]!==a?arguments[1]:{},n=t.timeout!==a?t.timeout:0,i=t.callback,o=t.webcamVideoElement,r=void 0;n>0&&(r=c.requestTimeout(function(){C.onStreamingTimeout(i)},1e4)),C.startStreaming({error:function(){i({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - the user probably denied permission",image:null,cameraStream:{}})},streamed:function(){clearTimeout(r)},completed:function(){var t=arguments.length>0&&arguments[0]!==a?arguments[0]:{},n=t.cameraStream,i=t.videoElement,o=t.videoHeight,r=t.videoWidth;e({cameraStream:n,videoElement:i,videoHeight:o,videoWidth:r})},lastCameraStream:t.lastCameraStream,webcamVideoElement:o,crossOrigin:t.crossOrigin,options:t})},stopVideoStreaming:function(e){var t=e=c.isObject(e)?e:{},n=t.keepCameraOn,i=t.videoElement,o=t.webcamVideoElement,r=e.cameraStream||{},a=r.getTracks&&r.getTracks()||[],s=!!a.length,l=a[0];!n&&s&&c.isFunction(l.stop)&&l.stop(),c.isElement(i)&&!o&&(i.pause(),c.isFunction(c.URL.revokeObjectURL)&&!c.webWorkerError&&i.src&&c.URL.revokeObjectURL(i.src),c.removeElement(i))}};function k(e){e=c.isObject(e)?e:{},C.stopVideoStreaming(e)}function A(e,t){var n=e.options||{},i=n.images,r=n.video,a=Number(n.gifWidth),s=Number(n.gifHeight),l=(Number(n.numFrames),e.cameraStream),d=e.videoElement,u=e.videoWidth,p=e.videoHeight,h=E.getCropDimensions({videoWidth:u,videoHeight:p,gifHeight:s,gifWidth:a}),f=t;n.crop=h,n.videoElement=d,n.videoWidth=u,n.videoHeight=p,n.cameraStream=l,c.isElement(d)&&(d.width=a+h.width,d.height=s+h.height,n.webcamVideoElement||(c.setCSSAttr(d,{position:"fixed",opacity:"0"}),o.body.appendChild(d)),d.play(),E.getGIF(n,function(e){i&&i.length||r&&r.length||k(e),f(e)}))}function I(e,t){if(t=c.isFunction(e)?e:t,e=c.isObject(e)?e:{},c.isFunction(t)){var n=c.mergeOptions(f,e)||{},i=e.cameraStream,r=n.images,s=r?r.length:0,l=n.video,d=n.webcamVideoElement;n=c.mergeOptions(n,{gifWidth:Math.floor(n.gifWidth),gifHeight:Math.floor(n.gifHeight)}),s?function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},t=e.callback,n=e.images,i=e.options,r=e.imagesLength,s=u.validate({getUserMedia:!0,"window.URL":!0}),l=[],d=0,p=void 0,h=void 0;if(s.error)return t(s);function f(){c.each(l,function(e,t){t&&(t.text?h.addFrame(t.img,i,t.text):h.addFrame(t,i))}),function(e,t){e.getBase64GIF(function(e){t({error:!1,errorCode:"",errorMsg:"",image:e})})}(h,t)}h=new x(i),c.each(n,function(e,n){var a=n;n.src&&(a=a.src),c.isElement(a)?(i.crossOrigin&&(a.crossOrigin=i.crossOrigin),l[e]=a,(d+=1)===r&&f()):c.isString(a)&&(p=new Image,i.crossOrigin&&(p.crossOrigin=i.crossOrigin),function(i){n.text&&(i.text=n.text),i.onerror=function(e){var n=void 0;if(0==--r)return(n={}).error="None of the requested images was capable of being retrieved",t(n)},i.onload=function(t){n.text?l[e]={img:i,text:i.text}:l[e]=i,(d+=1)===r&&f(),c.removeElement(i)},i.src=a}(p),c.setCSSAttr(p,{position:"fixed",opacity:"0"}),o.body.appendChild(p))})}({images:r,imagesLength:s,callback:t,options:n}):l?function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},t=e.callback,n=e.existingVideo,i=e.options,o=u.validate({getUserMedia:!0,"window.URL":!0}),r=void 0,s=void 0;if(o.error)return t(o);if(c.isElement(n)&&n.src){if(s=n.src,r=c.getExtension(s),!c.isSupported.videoCodecs[r])return t(u.messages.videoCodecs)}else c.isArray(n)&&c.each(n,function(e,t){if(r=t instanceof Blob?t.type.substr(t.type.lastIndexOf("/")+1,t.length):t.substr(t.lastIndexOf(".")+1,t.length),c.isSupported.videoCodecs[r])return n=t,!1});C.startStreaming({completed:function(e){e.options=i||{},A(e,t)},existingVideo:n,crossOrigin:i.crossOrigin,options:i})}({existingVideo:l,callback:t,options:n}):function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{},t=e.callback,n=e.lastCameraStream,i=e.options,o=e.webcamVideoElement;if(!m())return t(u.validate());i.savedRenderingContexts.length?E.getGIF(i,function(e){t(e)}):C.startVideoStreaming(function(){var e=arguments.length>0&&arguments[0]!==a?arguments[0]:{};e.options=i||{},A(e,t)},{lastCameraStream:n,callback:t,webcamVideoElement:o,crossOrigin:i.crossOrigin})}({lastCameraStream:i,callback:t,webcamVideoElement:d,options:n})}}var O={utils:d,error:p,defaultOptions:v,createGIF:I,takeSnapShot:function(e,t){if(t=c.isFunction(e)?e:t,e=c.isObject(e)?e:{},c.isFunction(t)){var n=c.mergeOptions(f,e);I(c.mergeOptions(n,{interval:.1,numFrames:1,gifWidth:Math.floor(n.gifWidth),gifHeight:Math.floor(n.gifHeight)}),t)}},stopVideoStreaming:k,isSupported:function(){return u.isValid()},isWebCamGIFSupported:m,isExistingVideoGIFSupported:function(e){var t=!1;if(c.isArray(e)&&e.length){if(c.each(e,function(e,n){c.isSupported.videoCodecs[n]&&(t=!0)}),!t)return!1}else if(c.isString(e)&&e.length&&!c.isSupported.videoCodecs[e])return!1;return u.isValid({getUserMedia:!0})},isExistingImagesGIFSupported:function(){return u.isValid({getUserMedia:!0})},VERSION:"0.4.5"};(i=function(){return O}.apply(t,[]))===a||(e.exports=i)}("undefined"!=typeof window?window:{},"undefined"!=typeof document?document:{createElement:function(){}},"undefined"!=typeof window?window.navigator:{})},function(e,t,n){var i=n(6);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(0)(!1);var i=n(3),o=i(n(7)),r=i(n(8)),a=i(n(9)),s=i(n(10)),l=i(n(11));t.push([e.i,".pallete {\n  position: absolute;\n  top: 70px;\n  left: 0;\n  -webkit-user-select: none;\n}\n\n.main-pallete {\n  background: #ffffff;\n  box-shadow: 0px 3px 4px 1px #ccc;\n  list-style: none;\n}\n\n.main-pallete li {\n  position: relative;\n  min-height: 70px;\n  width: 70px;\n  cursor: pointer;\n}\n\n.main-pallete {\n  margin-bottom: 10px;\n}\n\n.main-pallete li {\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 20px;\n  border: 2px solid transparent;\n  cursor: pointer;\n}\n\n.main-pallete li.active,\n.main-pallete li:hover {\n  border: 2px solid #ffd700;\n}\n\n.tool-pencil {\n  background-image: url("+o+');\n}\n\n[data-tool="tool-pencil"] {\n  cursor: url('+o+"), auto;\n}\n\n.tool-rect {\n  background-image: url("+r+');\n}\n\n[data-tool="tool-rect"] {\n  cursor: url('+r+"), auto;\n}\n\n.tool-bucket {\n  background-image: url("+a+');\n}\n\n[data-tool="tool-paint-bucket"] {\n  cursor: url('+a+"), auto;\n}\n\n.tool-eraser {\n  background-image: url("+s+');\n}\n\n[data-tool="tool-eraser"] {\n  cursor: url('+s+"), auto;\n}\n\n.tool-color-picker {\n  background-image: url("+l+');\n}\n\n.tool-color-picker input {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  cursor: pointer;\n}\n[data-tool="tool-color-picker"] {\n  cursor: default;\n}\n\n[data-tool="tool-color-picker"] {\n  cursor: url('+l+'), auto;\n}\n\n.pallete .active,\n.pallete li:hover {\n  background-color: #f9f6f6;\n}\n\n.color-wrapper {\n  margin-left: 10px;\n}\n.color-wrapper > div {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==);\n  display: block;\n  width: 35px;\n  height: 35px;\n  cursor: pointer;\n  position: relative;\n}\n\n.color-wrapper > div.active {\n  z-index: 30;\n}\n\n.color-secondary {\n  top: -12px;\n  right: -12px;\n  z-index: 10;\n}\n\n.color-primary {\n  z-index: 20;\n}\n\n.color-wrapper input,\n.color-preview {\n  display: block;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 35px;\n  height: 35px;\n  z-index: 2;\n  cursor: pointer;\n}\n\n.color-preview {\n  border: 1px solid #1a1a1a;\n}\n\n.color-primary:hover,\n.color-secondary:hover {\n  z-index: 100;\n}\n.color-wrapper input {\n  opacity: 0;\n}\n\n.unit-size-wrapper {\n  margin-bottom: 10px;\n  padding: 3px;\n  width: 70px;\n}\n\n.unit-size-wrapper input[type="range"] {\n  width: 100%;\n  margin-bottom: 15px;\n}\n\n.unit-size-wrapper p {\n  font-size: 11px;\n}\n\n.unit-size-wrapper li {\n  display: inline-block;\n  vertical-align: middle;\n  width: 12px;\n  height: 12px;\n  border: 1px solid #cccccc;\n  cursor: pointer;\n}\n\n.unit-size-wrapper li.active {\n  border: 1px solid #ffd700;\n}\n\n.unit-size-wrapper li:first-child {\n  width: 10px;\n  height: 10px;\n}\n\n.unit-size-wrapper li:nth-child(2) {\n  width: 13px;\n  height: 13px;\n}\n\n.unit-size-wrapper li:nth-child(3) {\n  width: 16px;\n  height: 16px;\n}\n',""])},function(e,t,n){e.exports=n.p+"img/86496f1774adb4d69058ca46bc37cf6a.png"},function(e,t,n){e.exports=n.p+"img/fc97bd8fb828a2ba1a82a53c5750bfb2.png"},function(e,t,n){e.exports=n.p+"img/ab6d57de61dc94673429fa220e81788b.png"},function(e,t,n){e.exports=n.p+"img/be724b96606127d55c92271f160ac20f.png"},function(e,t,n){e.exports=n.p+"img/d2fd81fbb701c51919a24ae85fdab5af.png"},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?e:(o=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){var i=n(14);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,".canvas-container {\n  position: relative;\n}\n\n.canvas-container .btn {\n  right: 40px;\n  padding: 10px 30px;\n  text-decoration: none;\n}\n\n.canvas-wrapper {\n  width: 600px;\n  position: relative;\n  height: 600px;\n  margin: 0 40px;\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==);\n  border: 1px solid black;\n}\n\n.canvas,\n.canvas-bg {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.canvas {\n  display: none;\n}\n\n.canvas.active {\n  display: block;\n}\n",""])},function(e,t,n){var i=n(16);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(0)(!1);var i=n(3),o=i(n(17)),r=i(n(18)),a=i(n(19));t.push([e.i,".preview-container {\n  background: #ffffff;\n  box-shadow: 0px 3px 4px 1px #ccc;\n  padding: 10px 30px;\n  cursor: default;\n}\n\n.preview-wrapper div:only-child .delete {\n  display: none;\n}\n\n.preview-wrapper div:only-child .move {\n  display: none;\n}\n\n.preview-wrapper {\n  overflow: auto;\n  max-height: 80vh;\n}\n\n.preview-wrapper img {\n  width: 100%;\n}\n\n.preview {\n  width: 110px;\n  height: 110px;\n  border: 3px solid #c4c4c4;\n  position: relative;\n  margin-bottom: 10px;\n  cursor: pointer;\n  background-color: #ffffff;\n}\n\n.preview.active {\n  border: 3px solid #ffd700;\n}\n\n.preview .number,\n.preview .delete,\n.preview .copy,\n.preview .move {\n  position: absolute;\n  width: 30px;\n  height: 30px;\n  color: #ffffff;\n  background-color: #c4c4c4;\n  z-index: 2;\n  cursor: pointer;\n  background-size: 20px;\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.preview .delete {\n  top: 0;\n  right: 0;\n  background-image: url("+o+");\n}\n\n.preview .move {\n  bottom: 0;\n  left: 0;\n  background-image: url("+r+");\n  cursor: move;\n}\n\n.preview .copy {\n  bottom: 0;\n  right: 0;\n  background-image: url("+a+");\n}\n\n.preview.active .number,\n.preview.active .delete,\n.preview.active .copy,\n.preview.active .move {\n  background-color: #ffd700;\n}\n\n.preview .number:hover,\n.preview .delete:hover,\n.preview .copy:hover,\n.preview .move:hover {\n  background-color: greenyellow;\n}\n\n.preview .number {\n  top: 0;\n  left: 0;\n  text-align: center;\n  line-height: 2em;\n}\n\n.add-new {\n  padding: 5px;\n  border: 3px solid #c4c4c4;\n  background: #e6e5e5;\n  padding-left: 35px;\n  position: relative;\n  width: 100px;\n  font-size: 12px;\n  cursor: pointer;\n  margin: 0 auto;\n}\n\n.add-new:hover,\n.add-new:focus,\n.add-new:active {\n  border-color: #ffd700;\n}\n\n.add-new span  {\n  display: inline-block;\n  position: absolute;\n  top: 10px;\n  left: 5px;\n  font-size: 40px;\n  line-height: 0.4;\n  color: #ffffff;\n  font-weight: bold;\n}",""])},function(e,t,n){e.exports=n.p+"img/721560081f4685a0ba5dae78ebe2ebc3.png"},function(e,t,n){e.exports=n.p+"img/ac0d273209cbb92ca91c0a92e3b614e5.png"},function(e,t,n){e.exports=n.p+"img/0056a1f6a4c728fa4c64a78ca62c901d.png"},function(e,t,n){var i=n(21);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,".canvas-animated-container {\n  position: relative;\n  width: 300px;\n  text-align: center;\n}\n\n.canvas-animated-wrapper {\n  height: 200px;\n  /* background: #FFFFFF; */\n}\n\n.canvas-animated-wrapper img {\n  height: 100%;\n  border: 1px solid #ccc;\n}\n\n.canvas-animated-container .btn {\n  display: inline-block;\n  position: relative;\n  width: 200px;\n  margin: 4px auto;\n}\n\n.change-animated-wrapper {\n  width: 70%;\n  margin: 10px 0 0 15%;\n}\n\n.change-animated-wrapper span {\n  display: inline-block;\n  color: #666666;\n  font-weight: bold;\n  width: 64px;\n  text-align: right;\n  padding-right: 5px;\n}\n\n.change-animated-wrapper input[type=range] {\n  width: calc(100% - 90px);\n  max-width: 300px;\n}\n",""])},function(e,t,n){var i=n(23);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,'* {\n  outline: 0;\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n  vertical-align: baseline;\n  font-weight: inherit;\n  font-family: inherit;\n  font-style: inherit;\n  font-size: 100%;\n  border: 0 none;\n  background: none;\n}\n\nbody {\n  position: relative;\n  min-width: 1000px;\n  min-height: 100vh;\n  font-family: Arial, Helvetica, sans-serif;\n  -ms-user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  user-select: none;\n}\n\n.container {\n  position: relative;\n  max-width: 1370px;\n  margin: 0 auto;\n  padding: 0 90px;\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  align-content: stretch;\n}\n\nheader {\n  height: 50px;\n  box-shadow: 0px 3px 4px 1px #ccc;\n}\n\nh1 {\n  font-size: 18px;\n  line-height: 50px;\n  margin-left: 20px;\n}\n\n.btn-menu,\n.btn-add-menu {\n  position: absolute;\n  top: 7px;\n  z-index: 2;\n  width: 40px;\n  height: 35px;\n  cursor: pointer;\n}\n\n.btn-menu {\n  left: 17px;\n}\n\n.btn-add-menu {\n  right: 5px;\n}\n\n.btn-menu:before,\n.btn-add-menu:before {\n  content: "";\n  position: absolute;\n  top: 30%;\n  height: 2px;\n  background: #757575;\n  box-shadow: 0 6px #757575, 0 12px #757575;\n  transition: all 0.4s linear;\n}\n\n.btn-menu:before {\n  width: 50%;\n  left: 25%;\n  border-radius: 10px;\n}\n\n.btn-add-menu:before {\n  width: 3px;\n  left: 45%;\n  height: 3px;\n  border-radius: 50%;\n}\n\nmain .container {\n  padding-top: 10px;\n  padding-bottom: 40px;\n}\n\n.tooltip {\n  position: fixed;\n  padding: 10px 20px;\n  border: 1px solid #1e1e1e;\n  border-radius: 4px;\n  text-align: center;\n  font: italic 15px/1.3 sans-serif;\n  color: #333;\n  background: #fff;\n  box-shadow: 3px 3px 3px rgba(0, 0, 0, 0.3);\n}\n\n.btn {\n  position: absolute;\n  right: 0;\n  bottom: -25px;\n  border: 1px solid #000;\n  padding: 5px;\n  background-color: #ffd700;\n  z-index: 2;\n  cursor: pointer;\n  font-size: 12px;\n  text-decoration: none;\n  color: #000000;\n}\n\n.btn:disabled {\n  display: none;\n}\n\n.btn:hover,\n.btn:active,\n.btn:active {\n  background-color: greenyellow;\n  color: #000;\n  text-decoration: none;\n}\n\ninput[type="range"] {\n  margin: 5.8px 0;\n  background-color: transparent !important;\n}\n\ninput[type="range"]::-webkit-slider-runnable-track {\n  cursor: pointer;\n  background: #ffd700;\n  height: 4px;\n}\n\ninput[type="range"]::-webkit-slider-thumb {\n  background-color: black;\n  cursor: pointer;\n  margin-top: -10px;\n  box-shadow: 2px 2px 9px #1a1a1a, 0px 0px 2px #1a1a1a;\n}\n',""])},function(e,t,n){"use strict";n.r(t);n(5);var i,o=document.querySelector(".main-pallete"),r=["#999999","#11ffee00"],a=document.getElementById("colorPrimaryInput"),s=document.getElementById("colorSecondaryInput"),l=document.querySelector(".color-wrapper"),c=document.getElementById("unitSizeInput"),d=document.getElementById("currentUnitSizeValue"),u=32,p="tool-pencil",h=document.getElementById("toolPencil"),f=document.getElementById("toolEraser"),v=document.getElementById("toolPaintBucket"),m=document.getElementById("toolColorPicker"),g=document.getElementById("toolRect"),b=function(){o.querySelector(".active")&&o.querySelector(".active").classList.remove("active")},w=function(e,t,n,w){o.addEventListener("click",function(n){!function(e,t,n){b();var i=e.target.getAttribute("data-tool");t.setAttribute("data-tool",i),e.target.classList.add("active"),p=i,n(i)}(n,e,t)}),document.body.addEventListener("keydown",function(n){!function(e,t,n){switch(e.which){case 80:b(),h.classList.contains("active")||h.classList.add("active"),t.setAttribute("data-tool","tool-pencil"),p="tool-pencil",n("tool-pencil");break;case 69:b(),f.classList.contains("active")||f.classList.add("active"),t.setAttribute("data-tool","tool-eraser"),p="tool-eraswer",n("tool-eraser");break;case 66:b(),v.classList.contains("active")||v.classList.add("active"),t.setAttribute("data-tool","tool-paint-bucket"),p="tool-paint-bucket",n("tool-paint-bucket");break;case 67:b(),m.classList.contains("active")||m.classList.add("active"),t.setAttribute("data-tool","tool-color-picker"),p="tool-color-picker",n("tool-color-picker");break;case 82:b(),g.classList.contains("active")||g.classList.add("active"),t.setAttribute("data-tool","tool-rect"),p="tool-rect",n("tool-rect")}}(n,e,t)}),c.addEventListener("input",function(e){u=e.target.value,d.innerHTML=u,w(u)}),l.addEventListener("input",function(e){i=e.target.value,e.target.setAttribute("value",i),e.target.parentElement.style.background=i,l.querySelector(".active")&&l.querySelector(".active").classList.remove("active"),e.target.parentElement.parentElement.classList.add("active"),e.target===a?r[0]=e.target.value:r[1]=e.target.value;var t=JSON.stringify(r);localStorage.setItem("keyColors",t),n(i)}),l.addEventListener("click",function(e){i=e.target.parentElement.style.background,l.querySelector(".active")&&l.querySelector(".active").classList.remove("active"),e.target.parentElement.parentElement.classList.add("active"),n(i)}),document.body.addEventListener("click",function(e){if("tool-color-picker"===p&&e.target.classList.contains("canvas")){var t=e.target.getContext("2d").getImageData(e.offsetX,e.offsetY,1,1).data,o="rgb(".concat(t[0],", ").concat(t[1],", ").concat(t[2],")");a.parentElement.parentElement.classList.contains("active")?(a.parentElement.style.background=o,a.setAttribute("value",o)):(s.parentElement.style.background=o,s.setAttribute("value",o)),i=o,n(o)}}),localStorage.getItem("keyColors")&&(r=JSON.parse(localStorage.getItem("keyColors"))),a.parentElement.style.background=r[0],a.setAttribute("value",r[0]),s.parentElement.style.background=r[1],s.setAttribute("value",r[1]),i=a.value};function y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var x=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"canvas active",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:32;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvasWrapper=t,this.positionCanvasWrapper=t.getBoundingClientRect(),this.dlBtn=document.getElementById("downloadBtn"),this.id=i,this.cls=o,this.bufer=r,this.img=a,this.tool="tool-pencil",this.unitSize=s,this.isDrawing=!1,this.onmdown=this.mDown.bind(this),this.onmmove=this.mMove.bind(this),this.onmup=this.mUp.bind(this),this.paintBucketFuncBind=this.paintBucketFunc.bind(this),this.onRectMdown=this.rectmDown.bind(this),this.onRectMmove=this.rectmMove.bind(this),this.onRectMup=this.rectmUp.bind(this),this.onDrawEnd=n}var t,n,i;return t=e,(n=[{key:"renderCanvasItem",value:function(e){var t=document.createElement("canvas");if(t.setAttribute("id","".concat(this.id,"canvas")),t.setAttribute("class","".concat(this.cls)),t.setAttribute("width",this.canvasWrapper.clientWidth||600),t.setAttribute("height",this.canvasWrapper.clientWidth||600),this.canvas=t,this.canvasWrapper.appendChild(t),void 0!==this.bufer&&t.getContext("2d").putImageData(this.bufer,0,0),void 0!==this.img){var n=new Image;n.src=this.img,t.getContext("2d").drawImage(n,0,0),this.bufer=t.getContext("2d").getImageData(0,0,this.positionCanvasWrapper.width,this.positionCanvasWrapper.height)}this.color=e,this.toolPencilInitFunc()}},{key:"activeStatusRemove",value:function(){this.cls="canvas"}},{key:"activeStatusAdd",value:function(){this.cls="canvas active"}},{key:"updateTool",value:function(e){switch(this.canvas.removeEventListener("mousedown",this.onmdown),this.canvas.removeEventListener("mousemove",this.onmmove),this.canvas.removeEventListener("mouseup",this.onmup),this.canvas.removeEventListener("click",this.paintBucketFuncBind),this.canvas.removeEventListener("mousedown",this.onRectMdown),this.canvas.removeEventListener("mousemove",this.onRectMmove),this.canvas.removeEventListener("mouseup",this.onRectMup),e){case"tool-pencil":this.tool="tool-pencil",this.toolPencilInitFunc();break;case"tool-eraser":this.tool="tool-eraser",this.toolEraserFunc();break;case"tool-paint-bucket":this.tool="tool-paint-bucket",this.toolPaintBucketFunc();break;case"tool-rect":this.tool="tool-rect",this.toolRectFunc()}}},{key:"updateColor",value:function(e){this.color=e}},{key:"toolPencilInitFunc",value:function(){this.ctx=this.canvas.getContext("2d"),this.bufer=this.ctx.getImageData(0,0,this.positionCanvasWrapper.width,this.positionCanvasWrapper.height),this.points=[],this.canvas.addEventListener("mousedown",this.onmdown),this.canvas.addEventListener("mousemove",this.onmmove),this.canvas.addEventListener("mouseup",this.onmup)}},{key:"mDown",value:function(e){this.lastX=e.pageX-this.positionCanvasWrapper.x,this.lastY=e.pageY-this.positionCanvasWrapper.y,this.startX=this.lastX,this.startY=this.lastY,this.isDrawing=!0}},{key:"mUp",value:function(e){this.isDrawing=!1,this.lastX=e.pageX-this.positionCanvasWrapper.x,this.lastY=e.pageY-this.positionCanvasWrapper.y,this.finishX=this.lastX,this.finishY=this.lastY,this.points=[],this.bufer=this.ctx.getImageData(0,0,this.positionCanvasWrapper.width,this.positionCanvasWrapper.height),this.startX===this.finishX&&(this.ctx.fillStyle=this.color,"tool-pencil"===this.tool&&(this.ctx.globalCompositeOperation="source-over"),"tool-eraser"===this.tool&&(this.ctx.globalCompositeOperation="destination-out"),this.ctx.fillRect(this.lastX,this.lastY,this.unitSize,this.unitSize)),this.saveCanvas()}},{key:"mMove",value:function(e){if(this.ctx.lineWidth=this.unitSize,this.mouseX=e.pageX-this.positionCanvasWrapper.x,this.mouseY=e.pageY-this.positionCanvasWrapper.y,this.isDrawing){if(this.ctx.beginPath(),"tool-pencil"===this.tool)if(this.ctx.globalCompositeOperation="source-over",this.ctx.fillStyle=this.color,this.unitSize>30)this.ctx.rect(this.lastX,this.lastY,this.unitSize,this.unitSize),this.ctx.fill();else{this.ctx.strokeStyle=this.color,this.ctx.putImageData(this.bufer,0,0),this.points.push([this.mouseX,this.mouseY]),this.ctx.moveTo(this.points[0][0],this.points[0][1]);for(var t=1;t<this.points.length;t+=2)this.ctx.lineTo(this.points[t][0],this.points[t][1]);this.ctx.stroke()}"tool-eraser"===this.tool&&(this.ctx.globalCompositeOperation="destination-out",this.ctx.rect(this.lastX,this.lastY,this.unitSize,this.unitSize),this.ctx.fill()),this.lastX=this.mouseX,this.lastY=this.mouseY}}},{key:"saveCanvas",value:function(){var e=this.canvas.toDataURL("image/png",1),t=this.ctx.getImageData(0,0,this.positionCanvasWrapper.width,this.positionCanvasWrapper.height);this.onDrawEnd(this.id,e,t)}},{key:"exportCanvas",value:function(){this.previewSrc=this.canvas.toDataURL();var e=document.createElement("a");e.setAttribute("href",this.previewSrc),e.setAttribute("download","piksel-clone.png"),e.click()}},{key:"toolEraserFunc",value:function(){this.canvas.addEventListener("mousedown",this.onmdown),this.canvas.addEventListener("mousemove",this.onmmove),this.canvas.addEventListener("mouseup",this.onmup)}},{key:"paintBucketFunc",value:function(){this.ctx.globalCompositeOperation="destination-over",this.ctx.fillStyle=this.color,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.saveCanvas()}},{key:"toolPaintBucketFunc",value:function(){this.canvas.addEventListener("click",this.paintBucketFuncBind)}},{key:"rectmDown",value:function(e){this.isDrawing=!0,this.rectStartX=e.pageX-this.positionCanvasWrapper.x,this.rectStartY=e.pageY-this.positionCanvasWrapper.y}},{key:"rectmMove",value:function(e){this.isDrawing&&(this.rectFinishX=e.pageX-this.positionCanvasWrapper.x,this.rectFinishY=e.pageY-this.positionCanvasWrapper.y,this.rectWidth=this.rectFinishX-this.rectStartX,this.rectHeight=this.rectFinishY-this.rectStartY,this.ctx.fillStyle=this.color,this.ctx.fillRect(this.rectStartX,this.rectStartY,this.rectWidth,this.rectHeight))}},{key:"rectmUp",value:function(){this.isDrawing=!1,this.saveCanvas()}},{key:"toolRectFunc",value:function(){this.ctx.globalCompositeOperation="source-over",this.canvas.addEventListener("mousedown",this.onRectMdown),this.canvas.addEventListener("mousemove",this.onRectMmove),this.canvas.addEventListener("mouseup",this.onRectMup)}},{key:"updateUnitSize",value:function(e){this.unitSize=e}}])&&y(t.prototype,n),i&&y(t,i),e}();n(13);function S(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var E=n(2),C=function(){function e(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:E,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"preview active";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=o,this.src=r,this.cls=a,this.order=t,this.onDeleteCallback=n,this.onCopyCallback=i,this.onDeleteBound=this.onDelete.bind(this),this.onChangeCurrentBound=this.onChangeCurrent.bind(this),this.onCopyBound=this.onCopy.bind(this)}var t,n,i;return t=e,(n=[{key:"renderCanvasPreviewItem",value:function(e){var t=this,n=document.createElement("div");n.setAttribute("id","".concat(this.id,"preview")),n.setAttribute("class","".concat(this.cls)),n.innerHTML='<div class="number">'.concat(this.order,'</div><div class="move" title="move"></div><button type="button" class="delete" title="delete"></button><button type="button" class="copy" title="copy canvas"></button>');var i=document.createElement("img");i.classList.add("preview-img"),i.setAttribute("src",this.src),i.setAttribute("alt",""),n.appendChild(i),this.canvasPreview=n,e.appendChild(n),n.addEventListener("click",function(n){n.target.classList.contains("delete")&&t.onDeleteBound(n.target.parentElement),(n.target.classList.contains("preview-img")||n.target.classList.contains("number"))&&t.onChangeCurrentBound(n,e),n.target.classList.contains("copy")&&t.onCopyBound()})}},{key:"onChangeCurrent",value:function(e,t){(e.target.classList.contains("preview-img")||e.target.classList.contains("number"))&&(t.querySelector(".active")&&t.querySelector(".active").classList.remove("active"),e.target.parentElement.classList.add("active"),document.querySelector("canvas.active").classList.remove("active"),document.getElementById("".concat(this.id,"canvas")).classList.add("active"))}},{key:"onCopy",value:function(){this.onCopyCallback(this.id)}},{key:"onDelete",value:function(e){this.onDeleteCallback(this.id,e),document.getElementById("".concat(this.id,"preview")).remove()}},{key:"activeStatusRemove",value:function(){this.cls="preview"}},{key:"activeStatusAdd",value:function(){this.cls="preview active"}},{key:"updateOder",value:function(e){this.order=e,document.getElementById("".concat(this.id,"preview")).querySelector(".number").innerHTML=e}}])&&S(t.prototype,n),i&&S(t,i),e}(),k=(n(15),n(4)),A=n.n(k);function I(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var O=n(2),D=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvasAnimatedWrapper=t,this.arrCanvasAnimated=n,this.fpsAnimatedValue=document.getElementById("fpsAnimatedValue"),this.onFPSChangeInput=document.getElementById("fpsAnimated"),this.fullScreenBtn=document.getElementById("FullScreenBtn"),this.downloadBtnGif=document.getElementById("downloadBtnGif"),this.fps=500,this.interval=null,this.onAnimatedChangeBound=this.onAnimatedChange.bind(this),this.onFullScreenBound=this.onFullScreen.bind(this),this.downloadGifBound=this.downloadGif.bind(this)}var t,n,i;return t=e,(n=[{key:"renderCanvasAnimated",value:function(){var e=this;this.canvasAnimatedWrapper.querySelector("img")&&this.canvasAnimatedWrapper.querySelector("img").remove(),document.createElement("img");var t=document.createElement("img");t.setAttribute("src",O),t.setAttribute("alt",""),this.canvasAnimatedWrapper.appendChild(t),this.animated(this.fps),this.fpsAnimatedValue.innerHTML="2 FPS",this.onFPSChangeInput.addEventListener("click",function(t){e.onAnimatedChangeBound(t)}),this.fullScreenBtn.addEventListener("click",function(t){e.onFullScreenBound(t)}),this.downloadBtnGif.addEventListener("click",function(t){t.preventDefault(),e.downloadGifBound()})}},{key:"onFullScreen",value:function(){this.canvasAnimatedWrapper.requestFullscreen?this.canvasAnimatedWrapper.requestFullscreen():this.canvasAnimatedWrapper.webkitrequestFullscreen&&this.canvasAnimatedWrapper.webkitRequestFullscreen()}},{key:"downloadGif",value:function(){var e=this.arrCanvasAnimated.map(function(e){return e.src});A.a.createGIF({images:e,interval:this.fps/1e3},function(e){if(!e.error){var t=e.image,n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download","piksel-clone.gif"),n.click()}})}},{key:"onAnimatedChange",value:function(e){this.fps=1e3/e.target.value,this.animated(this.fps),this.fpsAnimatedValue.innerHTML="".concat(e.target.value," FPS")}},{key:"animated",value:function(){var e=this,t=this.canvasAnimatedWrapper.querySelector("img");this.interval&&clearInterval(this.interval);var n=0;this.interval=setInterval(function(){e.arrCanvasAnimated[n]&&(t.src=e.arrCanvasAnimated[n].src),n!==e.arrCanvasAnimated.length-1?n+=1:n=0},this.fps)}}])&&I(t.prototype,n),i&&I(t,i),e}();n(20),n(22);
/**!
 * Sortable 1.10.0-rc3
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){M(e,t,n[t])})}return e}function R(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _(e){return!!navigator.userAgent.match(e)}var B=_(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),W=_(/Edge/i),P=_(/firefox/i),U=_(/safari/i)&&!_(/chrome/i)&&!_(/android/i),N=_(/iP(ad|od|hone)/i),z=_(/chrome/i)&&_(/android/i),j={capture:!1,passive:!1};function Y(e,t,n){e.addEventListener(t,n,!B&&j)}function H(e,t,n){e.removeEventListener(t,n,!B&&j)}function X(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function V(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function q(e,t,n,i){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&X(e,t):X(e,t))||i&&e===n)return e;if(e===n)break}while(e=V(e))}return null}var G,J=/\s+/g;function Q(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(J," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(J," ")}}function $(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||-1!==t.indexOf("webkit")||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function K(e,t){var n="";do{var i=$(e,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix;return o&&new o(n)}function Z(e,t,n){if(e){var i=e.getElementsByTagName(t),o=0,r=i.length;if(n)for(;o<r;o++)n(i[o],o);return i}return[]}function ee(){return B?document.documentElement:document.scrollingElement}function te(e,t,n,i,o){if(e.getBoundingClientRect||e===window){var r,a,s,l,c,d,u;if(e!==window&&e!==ee()?(a=(r=e.getBoundingClientRect()).top,s=r.left,l=r.bottom,c=r.right,d=r.height,u=r.width):(a=0,s=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,u=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!B))do{if(o&&o.getBoundingClientRect&&("none"!==$(o,"transform")||n&&"static"!==$(o,"position"))){var p=o.getBoundingClientRect();a-=p.top+parseInt($(o,"border-top-width")),s-=p.left+parseInt($(o,"border-left-width")),l=a+r.height,c=s+r.width;break}}while(o=o.parentNode);if(i&&e!==window){var h=K(o||e),f=h&&h.a,v=h&&h.d;h&&(l=(a/=v)+(d/=v),c=(s/=f)+(u/=f))}return{top:a,left:s,bottom:l,right:c,width:u,height:d}}}function ne(e,t,n,i){for(var o=se(e,!0),r=(t||te(e))[n];o;){var a=te(o)[i];if(!("top"===i||"left"===i?r>=a:r<=a))return o;if(o===ee())break;o=se(o,!1)}return!1}function ie(e,t,n){for(var i=0,o=0,r=e.children;o<r.length;){if("none"!==r[o].style.display&&r[o]!==rt.ghost&&r[o]!==rt.dragged&&q(r[o],n.draggable,e,!1)){if(i===t)return r[o];i++}o++}return null}function oe(e,t){for(var n=e.lastElementChild;n&&(n===rt.ghost||"none"===$(n,"display")||t&&!X(n,t));)n=n.previousElementSibling;return n||null}function re(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===rt.clone||t&&!X(e,t)||n++;return n}function ae(e){var t=0,n=0,i=ee();if(e)do{var o=K(e),r=o.a,a=o.d;t+=e.scrollLeft*r,n+=e.scrollTop*a}while(e!==i&&(e=e.parentNode));return[t,n]}function se(e,t){if(!e||!e.getBoundingClientRect)return ee();var n=e,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=$(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return ee();if(i||t)return n;i=!0}}}while(n=n.parentNode);return ee()}function le(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function ce(e,t){return function(){if(!G){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),G=setTimeout(function(){G=void 0},t)}}}function de(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function ue(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var pe="Sortable"+(new Date).getTime();function he(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach(function(e){if("none"!==$(e,"display")&&e!==rt.ghost){t.push({target:e,rect:te(e)});var n=te(e);if(e.thisAnimationDuration){var i=K(e,!0);i&&(n.top-=i.f,n.left-=i.e)}e.fromRect=n}})},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var i=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var o=!1,r=0;t.forEach(function(e){var t=0,n=e.target,a=n.fromRect,s=te(n),l=n.prevFromRect,c=n.prevToRect,d=e.rect,u=K(n,!0);u&&(s.top-=u.f,s.left-=u.e),n.toRect=s,(ne(n,s,"bottom","top")||ne(n,s,"top","bottom")||ne(n,s,"right","left")||ne(n,s,"left","right"))&&(ne(n,d,"bottom","top")||ne(n,d,"top","bottom")||ne(n,d,"right","left")||ne(n,d,"left","right"))&&(ne(n,a,"bottom","top")||ne(n,a,"top","bottom")||ne(n,a,"right","left")||ne(n,a,"left","right"))||(n.thisAnimationDuration&&le(l,s)&&!le(a,s)&&(d.top-s.top)/(d.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(t=function(e,t,n,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*i.animation}(d,l,c,i.options)),le(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=i.options.animation),i.animate(n,d,t)),t&&(o=!0,r=Math.max(r,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout(function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null},t),n.thisAnimationDuration=t))}),clearTimeout(e),o?e=setTimeout(function(){"function"==typeof n&&n()},r):"function"==typeof n&&n(),t=[]},animate:function(e,t,n){if(n){$(e,"transition",""),$(e,"transform","");var i=te(e),o=K(this.el),r=o&&o.a,a=o&&o.d,s=(t.left-i.left)/(r||1),l=(t.top-i.top)/(a||1);e.animatingX=!!s,e.animatingY=!!l,$(e,"transform","translate3d("+s+"px,"+l+"px,0)"),function(e){e.offsetWidth}(e),$(e,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),$(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout(function(){$(e,"transition",""),$(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1},n)}}}}var fe=[],ve={initializeByDefault:!0},me={mount:function(e){for(var t in ve)!ve.hasOwnProperty(t)||t in e||(e[t]=ve[t]);fe.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1;var o=e+"Global";fe.forEach(function(r){t[r.pluginName]&&(t[r.pluginName][o]&&(i.eventCanceled=!!t[r.pluginName][o](L({sortable:t},n))),t.options[r.pluginName]&&t[r.pluginName][e]&&(i.eventCanceled=i.eventCanceled||!!t[r.pluginName][e](L({sortable:t},n))))})},initializePlugins:function(e,t,n){for(var i in fe.forEach(function(i){var o=i.pluginName;if(e.options[o]||i.initializeByDefault){var r=new i(e,t);r.sortable=e,e[o]=r,F(n,r.options)}}),e.options)if(e.options.hasOwnProperty(i)){var o=this.modifyOption(e,i,e.options[i]);void 0!==o&&(e.options[i]=o)}},getEventOptions:function(e,t){var n={};return fe.forEach(function(i){"function"==typeof i.eventOptions&&F(n,i.eventOptions.call(t,e))}),n},modifyOption:function(e,t,n){var i;return fe.forEach(function(o){e[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[t]&&(i=o.optionListeners[t].call(e[o.pluginName],n))}),i}};function ge(e){var t,n=e.sortable,i=e.rootEl,o=e.name,r=e.targetEl,a=e.cloneEl,s=e.toEl,l=e.fromEl,c=e.oldIndex,d=e.newIndex,u=e.oldDraggableIndex,p=e.newDraggableIndex,h=e.originalEvent,f=e.putSortable,v=e.eventOptions,m=(n=n||i[pe]).options,g="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||B||W?(t=document.createEvent("Event")).initEvent(o,!0,!0):t=new CustomEvent(o,{bubbles:!0,cancelable:!0}),t.to=s||i,t.from=l||i,t.item=r||i,t.clone=a,t.oldIndex=c,t.newIndex=d,t.oldDraggableIndex=u,t.newDraggableIndex=p,t.originalEvent=h,t.pullMode=f?f.lastPutMode:void 0;var b=L({},v,me.getEventOptions(o,n));for(var w in b)t[w]=b[w];i&&i.dispatchEvent(t),m[g]&&m[g].call(n,t)}var be=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.evt,o=R(n,["evt"]);me.pluginEvent.bind(rt)(e,t,L({dragEl:ye,parentEl:xe,ghostEl:Se,rootEl:Ee,nextEl:Ce,lastDownEl:ke,cloneEl:Ae,cloneHidden:Ie,dragStarted:Be,putSortable:Le,activeSortable:rt.active,originalEvent:i,oldIndex:Oe,oldDraggableIndex:Te,newIndex:De,newDraggableIndex:Me,hideGhostForTarget:tt,unhideGhostForTarget:nt,cloneNowHidden:function(){Ie=!0},cloneNowShown:function(){Ie=!1},dispatchSortableEvent:function(e){we({sortable:t,name:e,originalEvent:i})}},o))};function we(e){ge(L({putSortable:Le,cloneEl:Ae,targetEl:ye,rootEl:Ee,oldIndex:Oe,oldDraggableIndex:Te,newIndex:De,newDraggableIndex:Me},e))}if("undefined"==typeof window||!window.document)throw new Error("Sortable.js requires a window with a document");var ye,xe,Se,Ee,Ce,ke,Ae,Ie,Oe,De,Te,Me,Fe,Le,Re,_e,Be,We,Pe,Ue,Ne,ze=!1,je=!1,Ye=[],He=!1,Xe=!1,Ve=[],qe=!1,Ge=[],Je=N,Qe=W||B?"cssFloat":"float",$e=!z&&!N&&"draggable"in document.createElement("div"),Ke=function(){if(B)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),Ze=function(e,t){var n=$(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=ie(e,0,t),r=ie(e,1,t),a=o&&$(o),s=r&&$(r),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+te(o).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+te(r).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&"none"!==a.float){var d="left"===a.float?"left":"right";return!r||"both"!==s.clear&&s.clear!==d?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=i&&"none"===n[Qe]||r&&"none"===n[Qe]&&l+c>i)?"vertical":"horizontal"},et=function(e){function t(e,n){return function(i,o,r,a){var s=i.options.group.name&&o.options.group.name&&i.options.group.name===o.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(i,o,r,a),n)(i,o,r,a);var l=(n?i:o).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},i=e.group;i&&"object"==T(i)||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},tt=function(){!Ke&&Se&&$(Se,"display","none")},nt=function(){!Ke&&Se&&$(Se,"display","")};document.addEventListener("click",function(e){if(je)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),je=!1,!1},!0);var it=function(e){if(ye){e=e.touches?e.touches[0]:e;var t=(o=e.clientX,r=e.clientY,Ye.some(function(e){if(!oe(e)){var t=te(e),n=e[pe].options.emptyInsertThreshold,i=o>=t.left-n&&o<=t.right+n,s=r>=t.top-n&&r<=t.bottom+n;return n&&i&&s?a=e:void 0}}),a);if(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[pe]._onDragOver(n)}}var o,r,a},ot=function(e){ye&&ye.parentNode[pe]._isOutsideThisEl(e.target)};function rt(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=F({},t),e[pe]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ze(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==rt.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var i in me.initializePlugins(this,e,n),n)!(i in t)&&(t[i]=n[i]);for(var o in et(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&$e,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Y(e,"pointerdown",this._onTapStart):(Y(e,"mousedown",this._onTapStart),Y(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Y(e,"dragover",this),Y(e,"dragenter",this)),Ye.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),F(this,he())}function at(e,t,n,i,o,r,a,s){var l,c,d=e[pe],u=d.options.onMove;return!window.CustomEvent||B||W?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=i,l.related=o||t,l.relatedRect=r||te(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),u&&(c=u.call(d,l,a)),c}function st(e){e.draggable=!1}function lt(){qe=!1}function ct(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function dt(e){return setTimeout(e,0)}function ut(e){return clearTimeout(e)}rt.prototype={constructor:rt,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(We=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,ye):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,o=i.preventOnFilter,r=e.type,a=e.touches&&e.touches[0],s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=i.filter;if(function(e){Ge.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var i=t[n];i.checked&&Ge.push(i)}}(n),!ye&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||i.disabled||l.isContentEditable||(s=q(s,i.draggable,n,!1))&&s.animated||ke===s)){if(Oe=re(s),Te=re(s,i.draggable),"function"==typeof c){if(c.call(this,e,s,this))return we({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),be("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some(function(i){if(i=q(l,i.trim(),n,!1))return we({sortable:t,rootEl:i,name:"filter",targetEl:s,fromEl:n,toEl:n}),be("filter",t,{evt:e}),!0})))return void(o&&e.cancelable&&e.preventDefault());i.handle&&!q(l,i.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var i,o=this,r=o.el,a=o.options,s=r.ownerDocument;if(n&&!ye&&n.parentNode===r)if(Ee=r,xe=(ye=n).parentNode,Ce=ye.nextSibling,ke=n,Fe=a.group,rt.dragged=ye,Re={target:ye,clientX:(t||e).clientX,clientY:(t||e).clientY},this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,ye.style["will-change"]="all",i=function(){be("delayEnded",o,{evt:e}),rt.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!P&&o.nativeDraggable&&(ye.draggable=!0),o._triggerDragStart(e,t),we({sortable:o,name:"choose",originalEvent:e}),Q(ye,a.chosenClass,!0))},a.ignore.split(",").forEach(function(e){Z(ye,e.trim(),st)}),Y(s,"dragover",it),Y(s,"mousemove",it),Y(s,"touchmove",it),Y(s,"mouseup",o._onDrop),Y(s,"touchend",o._onDrop),Y(s,"touchcancel",o._onDrop),P&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ye.draggable=!0),be("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(W||B))i();else{if(rt.eventCanceled)return void this._onDrop();Y(s,"mouseup",o._disableDelayedDrag),Y(s,"touchend",o._disableDelayedDrag),Y(s,"touchcancel",o._disableDelayedDrag),Y(s,"mousemove",o._delayedDragTouchMoveHandler),Y(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&Y(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(i,a.delay)}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ye&&st(ye),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;H(e,"mouseup",this._disableDelayedDrag),H(e,"touchend",this._disableDelayedDrag),H(e,"touchcancel",this._disableDelayedDrag),H(e,"mousemove",this._delayedDragTouchMoveHandler),H(e,"touchmove",this._delayedDragTouchMoveHandler),H(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?Y(document,"pointermove",this._onTouchMove):Y(document,t?"touchmove":"mousemove",this._onTouchMove):(Y(ye,"dragend",this),Y(Ee,"dragstart",this._onDragStart));try{document.selection?dt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(ze=!1,Ee&&ye){be("dragStarted",this,{evt:t}),this.nativeDraggable&&Y(document,"dragover",ot);var n=this.options;!e&&Q(ye,n.dragClass,!1),Q(ye,n.ghostClass,!0),rt.active=this,e&&this._appendGhost(),we({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(_e){this._lastX=_e.clientX,this._lastY=_e.clientY,tt();for(var e=document.elementFromPoint(_e.clientX,_e.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(_e.clientX,_e.clientY))!==t;)t=e;if(ye.parentNode[pe]._isOutsideThisEl(e),t)do{if(t[pe]){if(t[pe]._onDragOver({clientX:_e.clientX,clientY:_e.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);nt()}},_onTouchMove:function(e){if(Re){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,o=e.touches?e.touches[0]:e,r=Se&&K(Se),a=Se&&r&&r.a,s=Se&&r&&r.d,l=Je&&Ne&&ae(Ne),c=(o.clientX-Re.clientX+i.x)/(a||1)+(l?l[0]-Ve[0]:0)/(a||1),d=(o.clientY-Re.clientY+i.y)/(s||1)+(l?l[1]-Ve[1]:0)/(s||1),u=e.touches?"translate3d("+c+"px,"+d+"px,0)":"translate("+c+"px,"+d+"px)";if(!rt.active&&!ze){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}_e=o,$(Se,"webkitTransform",u),$(Se,"mozTransform",u),$(Se,"msTransform",u),$(Se,"transform",u),e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Se){var e=this.options.fallbackOnBody?document.body:Ee,t=te(ye,!0,Je,!0,e),n=this.options;if(Je){for(Ne=e;"static"===$(Ne,"position")&&"none"===$(Ne,"transform")&&Ne!==document;)Ne=Ne.parentNode;Ne!==document.body&&Ne!==document.documentElement?(Ne===document&&(Ne=ee()),t.top+=Ne.scrollTop,t.left+=Ne.scrollLeft):Ne=ee(),Ve=ae(Ne)}Q(Se=ye.cloneNode(!0),n.ghostClass,!1),Q(Se,n.fallbackClass,!0),Q(Se,n.dragClass,!0),$(Se,"transition",""),$(Se,"transform",""),$(Se,"box-sizing","border-box"),$(Se,"margin",0),$(Se,"top",t.top),$(Se,"left",t.left),$(Se,"width",t.width),$(Se,"height",t.height),$(Se,"opacity","0.8"),$(Se,"position",Je?"absolute":"fixed"),$(Se,"zIndex","100000"),$(Se,"pointerEvents","none"),rt.ghost=Se,e.appendChild(Se)}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,o=n.options;be("dragStart",this,{evt:e}),rt.eventCanceled?this._onDrop():(be("setupClone",this),rt.eventCanceled||((Ae=ue(ye)).draggable=!1,Ae.style["will-change"]="",this._hideClone(),Q(Ae,this.options.chosenClass,!1),rt.clone=Ae),n.cloneId=dt(function(){be("clone",n),rt.eventCanceled||(n.options.removeCloneOnHide||Ee.insertBefore(Ae,ye),n._hideClone(),we({sortable:n,name:"clone"}))}),!t&&Q(ye,o.dragClass,!0),t?(je=!0,n._loopId=setInterval(n._emulateDragOver,50)):(H(document,"mouseup",n._onDrop),H(document,"touchend",n._onDrop),H(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(n,i,ye)),Y(document,"drop",n),$(ye,"transform","translateZ(0)")),ze=!0,n._dragStartId=dt(n._dragStarted.bind(n,t,e)),Y(document,"selectstart",n),Be=!0,U&&$(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,i,o,r=this.el,a=e.target,s=this.options,l=s.group,c=rt.active,d=Fe===l,u=s.sort,p=Le||c,h=this,f=!1;if(!qe){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=q(a,s.draggable,r,!0),O("dragOver"),rt.eventCanceled)return f;if(ye.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||h._ignoreWhileAnimating===a)return T(!1);if(je=!1,c&&!s.disabled&&(d?u||(i=!Ee.contains(ye)):Le===this||(this.lastPutMode=Fe.checkPull(this,c,ye,e))&&l.checkPut(this,c,ye,e))){if(o="vertical"===this._getDirection(e,a),t=te(ye),O("dragOverValid"),rt.eventCanceled)return f;if(i)return xe=Ee,D(),this._hideClone(),O("revert"),rt.eventCanceled||(Ce?Ee.insertBefore(ye,Ce):Ee.appendChild(ye)),T(!0);var v=oe(r,s.draggable);if(!v||function(e,t,n){var i=te(oe(n.el,n.options.draggable));return t?e.clientX>i.right+10||e.clientX<=i.right&&e.clientY>i.bottom&&e.clientX>=i.left:e.clientX>i.right&&e.clientY>i.top||e.clientX<=i.right&&e.clientY>i.bottom+10}(e,o,this)&&!v.animated){if(v===ye)return T(!1);if(v&&r===e.target&&(a=v),a&&(n=te(a)),!1!==at(Ee,r,ye,t,a,n,e,!!a))return D(),r.appendChild(ye),xe=r,M(),T(!0)}else if(a.parentNode===r){n=te(a);var m,g,b,w=ye.parentNode!==r,y=!function(e,t,n){var i=n?e.left:e.top,o=n?e.right:e.bottom,r=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return i===a||o===s||i+r/2===a+l/2}(ye.animated&&ye.toRect||t,a.animated&&a.toRect||n,o),x=o?"top":"left",S=ne(a,null,"top","top")||ne(ye,null,"top","top"),E=S?S.scrollTop:void 0;if(We!==a&&(g=n[x],He=!1,Xe=!y&&s.invertSwap||w),0!==(m=function(e,t,n,i,o,r,a,s){var l=i?e.clientY:e.clientX,c=i?n.height:n.width,d=i?n.top:n.left,u=i?n.bottom:n.right,p=!1;if(!a)if(s&&Ue<c*o){if(!He&&(1===Pe?l>d+c*r/2:l<u-c*r/2)&&(He=!0),He)p=!0;else if(1===Pe?l<d+Ue:l>u-Ue)return-Pe}else if(l>d+c*(1-o)/2&&l<u-c*(1-o)/2)return function(e){return re(ye)<re(e)?1:-1}(t);if((p=p||a)&&(l<d+c*r/2||l>u-c*r/2))return l>d+c/2?1:-1;return 0}(e,a,n,o,y?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,Xe,We===a))){var C=re(ye);do{C-=m,b=xe.children[C]}while(b&&("none"===$(b,"display")||b===Se))}if(0===m||b===a)return T(!1);We=a,Pe=m;var k=a.nextElementSibling,A=!1,I=at(Ee,r,ye,t,a,n,e,A=1===m);if(!1!==I)return 1!==I&&-1!==I||(A=1===I),qe=!0,setTimeout(lt,30),D(),A&&!k?r.appendChild(ye):a.parentNode.insertBefore(ye,A?k:a),S&&de(S,0,E-S.scrollTop),xe=ye.parentNode,void 0===g||Xe||(Ue=Math.abs(g-te(a)[x])),M(),T(!0)}if(r.contains(ye))return T(!1)}return!1}function O(s,l){be(s,h,L({evt:e,isOwner:d,axis:o?"vertical":"horizontal",revert:i,dragRect:t,targetRect:n,canSort:u,fromSortable:p,target:a,completed:T,onMove:function(n,i){return at(Ee,r,ye,t,n,te(n),e,i)},changed:M},l))}function D(){O("dragOverAnimationCapture"),h.captureAnimationState(),h!==p&&p.captureAnimationState()}function T(t){return O("dragOverCompleted",{insertion:t}),t&&(d?c._hideClone():c._showClone(h),h!==p&&(Q(ye,Le?Le.options.ghostClass:c.options.ghostClass,!1),Q(ye,s.ghostClass,!0)),Le!==h&&h!==rt.active?Le=h:h===rt.active&&Le&&(Le=null),p===h&&(h._ignoreWhileAnimating=a),h.animateAll(function(){O("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(a===ye&&!ye.animated||a===r&&!a.animated)&&(We=null),s.dragoverBubble||e.rootEl||a===document||(ye.parentNode[pe]._isOutsideThisEl(e.target),!t&&it(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),f=!0}function M(){De=re(ye),Me=re(ye,s.draggable),we({sortable:h,name:"change",toEl:r,newIndex:De,newDraggableIndex:Me,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){H(document,"mousemove",this._onTouchMove),H(document,"touchmove",this._onTouchMove),H(document,"pointermove",this._onTouchMove),H(document,"dragover",it),H(document,"mousemove",it),H(document,"touchmove",it)},_offUpEvents:function(){var e=this.el.ownerDocument;H(e,"mouseup",this._onDrop),H(e,"touchend",this._onDrop),H(e,"pointerup",this._onDrop),H(e,"touchcancel",this._onDrop),H(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;De=re(ye),Me=re(ye,n.draggable),be("drop",this,{evt:e}),De=re(ye),Me=re(ye,n.draggable),rt.eventCanceled?this._nulling():(ze=!1,Xe=!1,He=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ut(this.cloneId),ut(this._dragStartId),this.nativeDraggable&&(H(document,"drop",this),H(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),U&&$(document.body,"user-select",""),e&&(Be&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),Se&&Se.parentNode&&Se.parentNode.removeChild(Se),(Ee===xe||Le&&"clone"!==Le.lastPutMode)&&Ae&&Ae.parentNode&&Ae.parentNode.removeChild(Ae),ye&&(this.nativeDraggable&&H(ye,"dragend",this),st(ye),ye.style["will-change"]="",Be&&!ze&&Q(ye,Le?Le.options.ghostClass:this.options.ghostClass,!1),Q(ye,this.options.chosenClass,!1),we({sortable:this,name:"unchoose",toEl:xe,newIndex:null,newDraggableIndex:null,originalEvent:e}),Ee!==xe?(De>=0&&(we({rootEl:xe,name:"add",toEl:xe,fromEl:Ee,originalEvent:e}),we({sortable:this,name:"remove",toEl:xe,originalEvent:e}),we({rootEl:xe,name:"sort",toEl:xe,fromEl:Ee,originalEvent:e}),we({sortable:this,name:"sort",toEl:xe,originalEvent:e})),Le&&Le.save()):De!==Oe&&De>=0&&(we({sortable:this,name:"update",toEl:xe,originalEvent:e}),we({sortable:this,name:"sort",toEl:xe,originalEvent:e})),rt.active&&(null!=De&&-1!==De||(De=Oe,Me=Te),we({sortable:this,name:"end",toEl:xe,originalEvent:e}),this.save()))),this._nulling())},_nulling:function(){be("nulling",this),Ee=ye=xe=Se=Ce=Ae=ke=Ie=Re=_e=Be=De=Me=Oe=Te=We=Pe=Le=Fe=rt.dragged=rt.ghost=rt.clone=rt.active=null,Ge.forEach(function(e){e.checked=!0}),Ge.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ye&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,i=0,o=n.length,r=this.options;i<o;i++)q(e=n[i],r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||ct(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach(function(e,i){var o=n.children[i];q(o,this.options.draggable,n,!1)&&(t[e]=o)},this),e.forEach(function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return q(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var i=me.modifyOption(this,e,t);n[e]=void 0!==i?i:t,"group"===e&&et(n)},destroy:function(){be("destroy",this);var e=this.el;e[pe]=null,H(e,"mousedown",this._onTapStart),H(e,"touchstart",this._onTapStart),H(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(H(e,"dragover",this),H(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),Ye.splice(Ye.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ie){if(be("hideClone",this),rt.eventCanceled)return;$(Ae,"display","none"),this.options.removeCloneOnHide&&Ae.parentNode&&Ae.parentNode.removeChild(Ae),Ie=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(Ie){if(be("showClone",this),rt.eventCanceled)return;Ee.contains(ye)&&!this.options.group.revertClone?Ee.insertBefore(Ae,ye):Ce?Ee.insertBefore(Ae,Ce):Ee.appendChild(Ae),this.options.group.revertClone&&this._animate(ye,Ae),$(Ae,"display",""),Ie=!1}}else this._hideClone()}},Y(document,"touchmove",function(e){(rt.active||ze)&&e.cancelable&&e.preventDefault()}),rt.utils={on:Y,off:H,css:$,find:Z,is:function(e,t){return!!q(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:ce,closest:q,toggleClass:Q,clone:ue,index:re,nextTick:dt,cancelNextTick:ut,detectDirection:Ze,getChild:ie},rt.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(el));e.utils&&(rt.utils=L({},rt.utils,e.utils)),me.mount(e)})},rt.create=function(e,t){return new rt(e,t)},rt.version="1.10.0-rc3";var pt,ht,ft,vt,mt,gt,bt=[],wt=!1;function yt(){bt.forEach(function(e){clearInterval(e.pid)}),bt=[]}function xt(){clearInterval(gt)}var St=ce(function(e,t,n,i){if(t.scroll){var o,r=t.scrollSensitivity,a=t.scrollSpeed,s=ee(),l=!1;ht!==n&&(ht=n,yt(),pt=t.scroll,o=t.scrollFn,!0===pt&&(pt=se(n,!0)));var c=0,d=pt;do{var u=d,p=te(u),h=p.top,f=p.bottom,v=p.left,m=p.right,g=p.width,b=p.height,w=void 0,y=void 0,x=u.scrollWidth,S=u.scrollHeight,E=$(u),C=u.scrollLeft,k=u.scrollTop;u===s?(w=g<x&&("auto"===E.overflowX||"scroll"===E.overflowX||"visible"===E.overflowX),y=b<S&&("auto"===E.overflowY||"scroll"===E.overflowY||"visible"===E.overflowY)):(w=g<x&&("auto"===E.overflowX||"scroll"===E.overflowX),y=b<S&&("auto"===E.overflowY||"scroll"===E.overflowY));var A=w&&(Math.abs(m-e.clientX)<=r&&C+g<x)-(Math.abs(v-e.clientX)<=r&&!!C),I=y&&(Math.abs(f-e.clientY)<=r&&k+b<S)-(Math.abs(h-e.clientY)<=r&&!!k);if(!bt[c])for(var O=0;O<=c;O++)bt[O]||(bt[O]={});bt[c].vx==A&&bt[c].vy==I&&bt[c].el===u||(bt[c].el=u,bt[c].vx=A,bt[c].vy=I,clearInterval(bt[c].pid),0==A&&0==I||(l=!0,bt[c].pid=setInterval(function(){i&&0===this.layer&&rt.active._onTouchMove(mt);var t=bt[this.layer].vy?bt[this.layer].vy*a:0,n=bt[this.layer].vx?bt[this.layer].vx*a:0;"function"==typeof o&&"continue"!==o.call(rt.dragged.parentNode[pe],n,t,e,mt,bt[this.layer].el)||de(bt[this.layer].el,n,t)}.bind({layer:c}),24))),c++}while(t.bubbleScroll&&d!==s&&(d=se(d,!1)));wt=l}},30),Et=function(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,o=e.activeSortable,r=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget,l=n||o;a();var c=document.elementFromPoint(t.clientX,t.clientY);s(),l&&!l.el.contains(c)&&(r("spill"),this.onSpill(i))};function Ct(){}function kt(){}Ct.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){this.sortable.captureAnimationState();var t=ie(this.sortable.el,this.startIndex,this.sortable.options);t?this.sortable.el.insertBefore(e,t):this.sortable.el.appendChild(e),this.sortable.animateAll()},drop:Et},F(Ct,{pluginName:"revertOnSpill"}),kt.prototype={onSpill:function(e){this.sortable.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),this.sortable.animateAll()},drop:Et},F(kt,{pluginName:"removeOnSpill"});rt.mount(new function(){function e(){for(var e in this.options={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?Y(document,"dragover",this._handleAutoScroll):this.sortable.options.supportPointer?Y(document,"pointermove",this._handleFallbackAutoScroll):t.touches?Y(document,"touchmove",this._handleFallbackAutoScroll):Y(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.sortable.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?H(document,"dragover",this._handleAutoScroll):(H(document,"pointermove",this._handleFallbackAutoScroll),H(document,"touchmove",this._handleFallbackAutoScroll),H(document,"mousemove",this._handleFallbackAutoScroll)),xt(),yt(),clearTimeout(G),G=void 0},nulling:function(){mt=ht=pt=wt=gt=ft=vt=null,bt.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,i=e.clientX,o=e.clientY,r=document.elementFromPoint(i,o);if(mt=e,t||W||B||U){St(e,this.options,r,t);var a=se(r,!0);!wt||gt&&i===ft&&o===vt||(gt&&xt(),gt=setInterval(function(){var r=se(document.elementFromPoint(i,o),!0);r!==a&&(a=r,yt()),St(e,n.options,r,t)},10),ft=i,vt=o)}else{if(!this.sortable.options.bubbleScroll||se(r,!0)===ee())return void yt();St(e,this.options,se(r,!1),!1)}}},F(e,{pluginName:"scroll",initializeByDefault:!0})}),rt.mount(kt,Ct);var At,It,Ot=rt,Dt=n(2),Tt=document.querySelector(".canvas-wrapper"),Mt=document.querySelector(".preview-wrapper"),Ft=document.querySelector(".canvas-animated-wrapper"),Lt=document.getElementById("addNewCanvas"),Rt=1,_t=[],Bt=[],Wt=[];document.getElementById("downloadBtn").addEventListener("click",function(e){e.preventDefault();var t=Tt.querySelector(".active");_t.find(function(e){return e.id===parseInt(t.getAttribute("id"),10)}).exportCanvas()});var Pt=function(){var e=JSON.stringify(Bt);localStorage.setItem("keyCanvas",e);var t=JSON.stringify(Wt);localStorage.setItem("keyCanvasAnimated",t);var n=JSON.stringify(Rt+1);localStorage.setItem("keyNextId",n)},Ut=function(){var e=1;Bt.forEach(function(t){t.updateOder(e),e+=1})},Nt=function(){_t.forEach(function(e){e.updateUnitSize(u)})},zt=function(e){_t.forEach(function(t){t.updateTool(e)})},jt=function(){_t.forEach(function(e){e.updateColor(i)})},Yt=function(e,t,n){var i=_t.findIndex(function(t){return t.id===e});_t[i].bufer=n,_t[i].currentUnitSize=u,document.getElementById("".concat(e,"preview")).querySelector("img").src=t,Bt[i].src=t,document.querySelector(".canvas-animated-container").querySelector("img").src=t,Wt[i].src=t,Pt()},Ht=function(e,t){At=Bt.findIndex(function(t){return t.id===e}),t.classList.contains("active")&&(t.previousElementSibling?(Bt[At-1].activeStatusAdd(),Array.from(Tt.children)[At-1].classList.add("active"),Array.from(Mt.children)[At-1].classList.add("active")):(_t[At+1].activeStatusAdd(),Array.from(Tt.children)[At+1].classList.add("active"),Array.from(Mt.children)[At+1].classList.add("active"))),_t.splice(At,1),Bt.splice(At,1),Wt.splice(At,1),document.getElementById("".concat(e,"canvas")).remove(),Ut(),It.animated(),Pt()},Xt=function e(t){Rt+=1;var n=Bt.findIndex(function(e){return e.id===t}),o=n+1;_t.forEach(function(e){e.activeStatusRemove()}),Bt.forEach(function(e){e.activeStatusRemove()}),Tt.querySelector(".active").classList.remove("active");var r=new x(Tt,Yt,Rt,void 0,_t[n].bufer,void 0,u);_t.splice(o,0,r),r.renderCanvasItem(i),r.updateTool(p),Mt.querySelector(".active").classList.remove("active");var a=new C(Bt.length+1,Ht,e,Rt,Bt[n].src,void 0);Bt.splice(o,0,a),Mt.innerHTML="";for(var s=0;s<Bt.length;s+=1){new C(Bt.length+1,Ht,e,Bt[s].id,Bt[s].src,Bt[s].cls).renderCanvasPreviewItem(Mt)}Wt.splice(o,0,{id:Rt,src:Bt[n].src}),Ut(),Pt()};Lt.addEventListener("click",function(){Rt+=1,_t.forEach(function(e){e.activeStatusRemove()}),Bt.forEach(function(e){e.activeStatusRemove()}),Tt.querySelector(".active").classList.remove("active"),Mt.querySelector(".active").classList.remove("active");var e=new x(Tt,Yt,Rt,void 0,void 0,void 0,u);_t.push(e),e.renderCanvasItem(i),e.updateTool(p);var t=new C(Bt.length+1,Ht,Xt,Rt);Bt.push(t),t.renderCanvasPreviewItem(Mt),Wt.push({id:Rt,src:Dt}),Pt()});var Vt=document.getElementById("items");Ot.create(Vt,{onUpdate:function(){var e=Array.from(document.querySelectorAll(".preview"));Bt=e.map(function(e){var t=parseInt(e.id,10);return Bt.find(function(e){return e.id===t})}),_t=e.map(function(e){var t=parseInt(e.id,10);return _t.find(function(e){return e.id===t})}),Wt=e.map(function(e){var t=parseInt(e.id,10);return Wt.find(function(e){return e.id===t})}),(It=new D(Ft,Wt)).renderCanvasAnimated(),It.animated(),Ut()}}),function(){if(w(Tt,zt,jt,Nt),localStorage.getItem("keyNextId")&&(Rt=JSON.parse(localStorage.getItem("keyNextId"))),localStorage.getItem("keyCanvas"))JSON.parse(localStorage.getItem("keyCanvas")).forEach(function(e){var t=e.id,n=e.src,o=e.cls,r=new C(Bt.length+1,Ht,Xt,t,n,o);Bt.push(r),r.renderCanvasPreviewItem(Mt),o=o.includes("active")?"canvas active":"canvas";var a=new x(Tt,Yt,t,o,void 0,n,u);_t.push(a),a.renderCanvasItem(i)});else{var e=new x(Tt,Yt,Rt,void 0,void 0,void 0,u);_t.push(e),e.renderCanvasItem(i);var t=new C(Bt.length+1,Ht,Xt,Rt);Bt.push(t),t.renderCanvasPreviewItem(Mt)}localStorage.getItem("keyCanvasAnimated")&&(Wt=JSON.parse(localStorage.getItem("keyCanvasAnimated"))),(It=new D(Ft,Wt)).renderCanvasAnimated(),It.animated(),0===Wt.length?Wt.push({id:1,src:Dt}):It.animated()}()}]);